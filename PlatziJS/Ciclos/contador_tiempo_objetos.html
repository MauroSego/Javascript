<!DOCTYPE html>
<html>
<head>
  <title>Contador tiempo</title>
</head>
<body>
  <div id="caja"></div>

<input type="date" name="" id="selecFecha">
<input type="button" id="btn" value="Cargar"></input>

<script type="text/javascript">

//  const hoy = new Date();

  const Timer = {
    init(anio, mes, dia){
      this.anio = anio
      this.mes = mes
      this.dia = dia
    },
    fechaObjetivo: function fechaobj(){
      this.fechaobj = new Date(this.anio, this.mes, this.dia);
      console.log(this.fechaobj);
    },
    tiempoFaltante: function(){
      const hoy = new Date()
      const tiempoFalta =  this.fechaobj - hoy

      const dias = Math.floor(tiempoFalta/(1000*60*60*24))
      const horas = Math.floor((tiempoFalta % (1000*60*60*24))/(1000*60*60))
      const minutos = Math.floor((tiempoFalta % (1000*60*60))/(1000*60))
      const seconds = Math.floor((tiempoFalta % (1000 * 60))/1000)


      document.getElementById('contador').innerHTML = dias+"d. " + horas+ "hs. " + minutos + "min " + seconds +"s";
    }
  }
  
  const CAJA = document.getElementById('caja')
  const BTN_CARGA = document.getElementById('btn');
  BTN_CARGA.addEventListener('click', function(){
    //
    fecha = document.getElementById("selecFecha").value;
    let fechaPartes = fecha.split('-');
    let anio = fechaPartes[0];
    let mes = fechaPartes[1]-1;
    let dia = fechaPartes[2];

    //Creacion del timer 
    const timer1 = Object.create(Timer);
    timer1.init(anio, mes, dia);
    timer1.fechaObjetivo();
    console.log(anio +" "+ mes+" "+dia)


    CAJA.innerHTML = '<h3 id="contador"><h3>';

    dispararTimer(timer1)
  })

  function dispararTimer(t){
    var intervalo = setInterval(function(){
      t.tiempoFaltante();
    }, 1000)
  }



</script>
</body>
</html>