<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Promises</title>
</head>
<body>
	<p id="agenda">Estoy despertando</p>
	<script type="text/javascript">
		const DESPERTAR = 3000;
		const DUCHA = 2000;
		const VESTIRSE = 2000;		
		const DESAYUNAR = 3000;
		const ESTUDIAR = 5000;
		const $agenda = document.getElementById('agenda');

		//const despertar = new Promise((todo est치 ok, todo est치 mal) => {})
		/*const despertar = new Promise((resolve, reject) => {
			setTimeout(() => {
				//resolve('Ahora me estoy duchando...')
				reject('Todo sali칩 mal')
			}, DESPERTAR)
		})

		/* las promesas tienen dos metodos posteriores cuando finalizan
		despertar.then(que quiero hacer si est치 ok)
		despertar.catch(que quiero hacer si sale mal)
		*/
		/*despertar
			.then((message)=>{console.log(message)})
			.catch((message) => {console.log(message)})*/

		function despertar(message){
			$agenda.textContent = message
			return new Promise((resolve, reject)=> {
				setTimeout(() => {
					resolve('Ahora me estoy duchando...')
				}, DESPERTAR)		
			});
		}
		function ducha(message){
			$agenda.textContent = message
			return new Promise((resolve, reject)=> {
				setTimeout(() => {
					resolve('Ahora me estoy vistiendo...')
				}, DUCHA)		
			});
		}
		function vestirme(message){
			$agenda.textContent = message
			return new Promise((resolve, reject)=> {
				setTimeout(() => {
					reject('No hay desayuno');
					//resolve('Ahora estoy desayunando...')
				}, VESTIRSE)		
			});
		}
		function desayunar(message){
			$agenda.textContent = message
			return new Promise((resolve, reject)=> {
				setTimeout(() => {
					//reject('No hay desayuno');
					resolve('Estoy estudiando...')
				}, DESAYUNAR)		
			});
		}

		function error(message){
			$agenda.style.color = 'red';
			$agenda.textContent = message;
		}

		despertar()
			.then(ducha)
			.then(vestirme)
			.then(desayunar)
			.catch(error)
	</script>

</body>
</html>