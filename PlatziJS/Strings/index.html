<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Strings con JS</title>
</head>
<body>
  <h2>Abrir consola</h2>
  <script>

    function platzom(str){
      let translation = str;

      const reverse = (str) => str.split('').reverse().join('');

      function minMay(str){
        const length = str.length;
        let translation = '';
        let capitalize = true;

        for (let i = 0; i < length; i++){
          const char = str.charAt(i)
          translation += capitalize ? char.toUpperCase() : char.toLowerCase();
          capitalize = !capitalize
        }
        return translation
      }



      //Si la palabra termina en "ar", se le quitan esos dos caracteres
      if(str.toLowerCase().endsWith('ar')){
        translation = str.slice(0, -2);
      }
      //Si la palabra inicia con z se le añade pe al final
      if(str.toLowerCase().startsWith('z')){
        translation += 'pe';
      }
      //Si la palabra traducida tiene 10 o mas letras se debe partir a la mitad
      //y unir con un guión del medio

      const length = translation.length
      if(length >= 10){
        const firstHalf = translation.slice(0, Math.round(length / 2))
        const secondHalf = translation.slice(Math.round(length / 2))
        translation  = `${firstHalf} - ${secondHalf}`
      }

      //si la palabra es palindromo, ninguna regla cuenta
      //y se devuelve la misma palabra con mayuscula intercalada
      if(str == reverse(str)) {
        return minMay(str);
      }

      return translation
    }

    console.log(platzom("programar"));
    console.log(platzom("zarpar"));
    console.log(platzom("abecedario"));
    console.log(platzom("sometemos"));
  </script>
</body>
</html>
